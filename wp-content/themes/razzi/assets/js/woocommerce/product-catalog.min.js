(function(v){"use strict";var _=_||{};_.init=function(){_.$body=v(document.body),_.$window=v(window),_.$header=v("#site-header");this.catalogBanner();this.catalogToolBarV1();this.catalogToolBarV2();this.catalogToolBarV3();this.productsTools();this.productCategoriesCarousel();this.catalogCollapseWidget();this.productsLoading();this.productsInfinite();this.productsFilterActivated();this.scrollFilterSidebar();this.changeCatalogElementsFiltered();this.stickySidebar()};_.catalogBanner=function(){var e=v("#catalog-header-banners");if(e.length<1){return}e.append('<div class="swiper-pagination"></div>');var t={loop:false,watchOverflow:true,pagination:{el:"#catalog-header-banners .swiper-pagination",type:"bullets",clickable:true}};new Swiper("#catalog-header-banners",t)};_.productCategoriesCarousel=function(){var e=v("#rz-catalog-top-categories"),t=e.find(".swiper-container"),i=e.data("columns");if(e.length<1){return}t.after('<div class="swiper-pagination"></div>');t.after('<span class="razzi-svg-icon razzi-top-cats-button-prev rz-swiper-button"><svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg></span>');t.after('<span class="razzi-svg-icon razzi-top-cats-button-next rz-swiper-button"><svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg></span>');var o={loop:false,spaceBetween:30,watchOverflow:true,on:{init:function(){this.$el.css("opacity",1)}},navigation:{nextEl:".razzi-top-cats-button-next",prevEl:".razzi-top-cats-button-prev"},pagination:{el:"#rz-catalog-top-categories .swiper-pagination",type:"bullets",clickable:true},breakpoints:{300:{slidesPerView:i>3?3:i,slidesPerGroup:i>3?3:i,spaceBetween:15},768:{slidesPerView:i>4?4:i,slidesPerGroup:i>4?4:i},1200:{slidesPerView:i>5?5:i,slidesPerGroup:i>5?5:i},1366:{slidesPerView:i>6?6:i,slidesPerGroup:i>6?6:i}}};new Swiper("#rz-catalog-top-categories .swiper-container",o);if(e.find(".rz-swiper-button").hasClass("swiper-button-lock")){e.addClass("rz-not-navigation")}};_.productsTools=function(){v(document.body).on("click",'.catalog-toolbar .toggle-filters[data-toggle="dropdown"]',function(e){e.preventDefault();var t=v(this).closest(".catalog-toolbar");if(t.hasClass("on-mobile")){return}v(v(this).attr("href")).slideToggle(300,function(){v(this).toggleClass("open")})})};_.catalogToolBarV1=function(){var e=v(".razzi-catalog-page").find("#primary-sidebar");if(e.length<1){return}_.$window.on("resize",function(){if(_.$window.width()>991){if(e.hasClass("rz-modal")){e.removeClass("rz-modal").removeAttr("style");_.$body.removeClass("modal-opened");_.$body.removeClass("primary-sidebar-opened");e.find(".modal-content").removeClass("razzi-scrollbar")}}else{e.addClass("rz-modal");e.find(".modal-content").addClass("razzi-scrollbar")}}).trigger("resize")};_.catalogCollapseWidget=function(){if(typeof razziCatalogData.catalog_widget_collapse_content==="undefined"){return}if(razziCatalogData.catalog_widget_collapse_content!=="1"){return}_.collapseWidget(v("#primary-sidebar, .elementor-widget-wp-widget-razzi-products-filter"))};_.catalogToolBarV3=function(){if(typeof razziCatalogData.catalog_filters_sidebar_collapse_content!=="undefined"&&razziCatalogData.catalog_filters_sidebar_collapse_content==="1"){_.collapseWidget(v("#catalog-filters-modal"))}this.showFilterMobile()};_.collapseWidget=function(e){e.on("click",".widget-title",function(e){e.preventDefault();var t=v(this),i=t.closest(".widget");if(t.closest(".widget").hasClass(".products-filter-widget")){return}i.find(".widget-content").slideToggle();t.toggleClass("rz-active")});e.on("click",".products-filter__filter-name",function(e){e.preventDefault();v(this).next().slideToggle();v(this).closest(".products-filter__filter").toggleClass("rz-active")})};_.catalogToolBarV2=function(){var t=v("#catalog-filters");if(t.length<1){return}if(!t.hasClass("catalog-toolbar-filters__v2")){return}var a="fade";_.$window.on("resize",function(){if(_.$window.width()<992){a="slide"}else{a="fade"}}).trigger("resize");t.find(".widget").on("click",".widget-title",function(e){e.preventDefault();var t=v(this),i=t.closest(".widget"),o=i.siblings().find(".widget-title");if(a==="fade"){t.next().fadeToggle("fast");o.next().hide()}else{o.next().slideUp(200);setTimeout(function(){t.next().slideToggle(200)},200)}t.toggleClass("rz-active");o.removeClass("rz-active")});v(".catalog-toolbar").on("click",".products-filter__filter-name",function(e){e.preventDefault();var t=v(this),i=t.closest(".products-filter__filter"),o=i.siblings().find(".products-filter__filter-name");if(a==="fade"){t.next().fadeToggle("fast");o.next().hide()}else{o.next().slideUp(200);setTimeout(function(){t.next().slideToggle(200)},200)}t.toggleClass("rz-active");o.removeClass("rz-active")});_.$body.on("razzi_products_filter_before_send_request",function(){t.find(".products-filter-widget .products-filter__filter-control").hide();t.find(".products-filter-widget .products-filter__filter-name").removeClass("rz-active")});_.$body.on("click",function(e){if(e.target.id=="catalog-filters"){return}if(v(e.target).closest(".catalog-toolbar-filters__v2 .widget").length>0){return}t.find(".widget .widget-title").next().hide();t.find(".widget .widget-title").removeClass("rz-active");t.find(".products-filter-widget .products-filter__filter-control").hide();t.find(".products-filter-widget .products-filter__filter-name").removeClass("rz-active")})};_.showFilterMobile=function(){var e=v(".catalog-toolbar"),i=v(".products-filter-dropdown");if(!e.hasClass("layout-v3")){return}_.$window.on("resize",function(){if(_.$window.width()<992){e.addClass("on-mobile");i.addClass("on-mobile")}else{e.removeClass("on-mobile");i.removeClass("on-mobile");e.find(".catalog-toolbar-tabs__content").removeAttr("style")}}).trigger("resize");_.$body.on("click",".catalog-toolbar-tabs__title",function(e){e.preventDefault();var t=v(this),i=t.closest(".catalog-toolbar");if(i.hasClass("on-mobile")){if(i.siblings(".products-filter-dropdown").hasClass("open")){i.siblings(".products-filter-dropdown").slideUp(200).removeClass("open");i.find(".toggle-filters").removeClass("active")}setTimeout(function(){t.siblings(".catalog-toolbar-tabs__content").slideToggle(200);t.siblings(".catalog-toolbar-tabs__content").toggleClass("open");t.toggleClass("active")},200)}});_.$body.on("click",'[data-target="catalog-filters-dropdown"]',function(e){e.preventDefault();var t=v(this);toolbar=t.closest(".catalog-toolbar");t.toggleClass("active");if(toolbar.hasClass("on-mobile")){if(!i.hasClass("open")){toolbar.find(".catalog-toolbar-tabs__content").slideUp(200);toolbar.find(".catalog-toolbar-tabs__content").removeClass("open");toolbar.find(".catalog-toolbar-tabs__title").removeClass("active")}setTimeout(function(){i.slideToggle(200).toggleClass("open");t.children().toggleClass("active")},200)}});i.on("click",".widget-title",function(e){if(v(this).closest(".products-filter-dropdown").hasClass("on-mobile")){e.preventDefault();var t=v(this),i=t.closest(".widget"),o=i.siblings();if(o.hasClass("products-filter-widget")){o.find(".filter-header").next().slideUp(200);o.find(".filter").removeClass("active")}o.not(".products-filter-widget").find(".widget-title").next().slideUp(200);o.not(".products-filter-widget").removeClass("active");t.next().slideToggle(200);i.toggleClass("active")}});i.on("click",".products-filter__filter-name",function(e){if(v(this).closest(".products-filter-dropdown").hasClass("on-mobile")){e.preventDefault();var t=v(this),i=t.closest(".products-filter-widget"),o=t.closest(".products-filter__filter"),a=t.closest(".products-filter__filter").siblings(),r=i.siblings();a.find(".products-filter__filter-control").slideUp(200);r.not(".products-filter-widget").removeClass("active");a.removeClass("active");t.next().slideToggle(200);o.toggleClass("active")}})};_.productsLoading=function(){_.$body.on("click","#razzi-catalog-previous-ajax > a",function(e){e.preventDefault();var t=v(this);if(t.data("requestRunning")){return}t.data("requestRunning",true);var o=t.closest(".rz-shop-content"),a=o.find("ul.products"),r=o.find(".next-posts-navigation"),s=a.children("li.product").length,i=t.attr("href");r.addClass("loading");v.get(i,function(e){var t=v(e).find("#rz-shop-content").find("ul.products").children("li.product");for(var i=0;i<t.length;i++){v(t[i]).css("animation-delay",i*100+"ms")}t.addClass("razziFadeInUp");if(v(e).find(".next-posts-navigation").length>0){r.html(v(e).find(".next-posts-navigation").html())}else{r.fadeOut()}a.append(t);r.find(".nav-previous-ajax > a").data("requestRunning",false);s+=t.length;o.find(".razzi-posts__found .current-post").html(" "+s);_.postsFound();r.removeClass("loading");v(document.body).trigger("razzi_products_loaded",[t,true]);v(document.body).trigger("yith_wcwl_init")})})};_.postsFound=function(){var e=v(".razzi-posts__found-inner"),t=e.find(".count-bar"),i=e.find(".current-post").html(),o=e.find(".found-post").html(),a=i/o*100;t.css("width",a+"%")};_.productsInfinite=function(){if(!v(".woocommerce-navigation").hasClass("ajax-infinite")){return}_.$window.on("scroll",function(){if(_.$body.find("#razzi-catalog-previous-ajax").is(":in-viewport")){_.$body.find("#razzi-catalog-previous-ajax > a").trigger("click")}}).trigger("scroll")};_.productsFilterActivated=function(){var o=v("#rz-products-filter__activated"),i=v(".products-filter-widget").find(".products-filter__activated");o.html(i.html());_.$body.on("razzi_products_filter_widget_updated",function(e,t){var i=v(t).closest(".products-filter-widget").find(".products-filter__activated");o.html(i.html())});o.on("click",".remove-filtered",function(e){var t=v(this).index();if(t!=="undefined"){v(this).remove();i.find(".remove-filtered:eq("+t+")").trigger("click")}return false})};_.scrollFilterSidebar=function(){_.$body.on("razzi_products_filter_before_send_request",function(){var e=0,t=_.$body.find(".site-header").height();if(!v("#rz-shop-content").length){return}if(_.$body.hasClass("header-sticky")){e=200}else{e=t+200}if(v(".products-filter__activated").length){e+=v(".products-filter__activated").height()}v("html,body").stop().animate({scrollTop:v("#rz-shop-content").offset().top-e},"slow");v("#rz-shop-content").find(".razzi-posts__found").hide()})};_.changeCatalogElementsFiltered=function(){_.$body.on("razzi_products_filter_request_success",function(e,t){var i=v(t),o=_.$body.find("#page-header"),a=_.$body.find("#catalog-header-banners"),r=_.$body.find("#rz-catalog-top-categories"),s=_.$body.find(".catalog-toolbar"),n=_.$body.find(".catalog-toolbar .catalog-toolbar-tabs__title"),l=_.$body.find(".rz-shop-content .razzi-posts__found"),d=_.$body.find(".widget_product_categories"),c=_.$body.find(".woocommerce-navigation"),f=_.$body.find(".catalog-sidebar"),g=_.$body.find(".term-description");if(!o.hasClass("catalog-page-header--template")){o.replaceWith(i.find("#page-header"))}if(i.find("#catalog-header-banners").length){a.replaceWith(i.find("#catalog-header-banners"));_.catalogBanner()}if(i.find("#rz-catalog-top-categories").length){r.replaceWith(i.find("#rz-catalog-top-categories"));_.productCategoriesCarousel()}if(i.find(".catalog-toolbar").length&&!s.hasClass("layout-v2")){s.replaceWith(i.find(".catalog-toolbar"))}if(i.find(".term-description")){if(g.length){g.replaceWith(i.find(".term-description"))}else{if(razziData.product_description=="above"){_.$body.find(".woocommerce-products-header").append(i.find(".term-description"))}else if(razziData.product_description=="below"){_.$body.find(".site-main").append(i.find(".term-description"))}}}else{_.$body.find(".term-description").remove()}n.removeClass("active");if(i.find(".rz-shop-content .razzi-posts__found").length){l.replaceWith(i.find(".rz-shop-content .razzi-posts__found"));_.postsFound()}if(i.find(".widget_product_categories").length){d.replaceWith(i.find(".widget_product_categories"))}if(c.length){c.replaceWith(i.find(".woocommerce-navigation"))}else{v("#rz-shop-content").append(i.find(".woocommerce-navigation"))}if(f.length&&f.hasClass("has-collapse-hide")){if(window.location.href.indexOf("?")==-1){return}var p,u=window.location.href.slice(window.location.href.indexOf("?")+1).split("&");for(var h=0;h<u.length;h++){p=u[h].split("=");if(p){var b=f.find(".products-filter-widget").find("[name="+p[0]+"]");b.closest(".products-filter__filter").addClass("rz-active")}}}v(document.body).trigger("yith_wcwl_init");_.stickySidebar()});_.$body.on("razzi_products_filter_before_send_request",function(e,t){if(_.$body.hasClass("razzi-filter-sidebar-off")){v(".catalog-filters-modal-opened #catalog-filters-modal").removeClass("open").fadeOut();v(".primary-sidebar-opened #primary-sidebar").removeClass("open").fadeOut();if(_.$body.hasClass("catalog-filters-modal-opened")){_.$body.removeClass("catalog-filters-modal-opened modal-opened").removeAttr("style")}if(_.$body.hasClass("primary-sidebar-opened")){_.$body.removeClass("primary-sidebar-opened modal-opened").removeAttr("style")}}_.$body.find(".term-description").addClass("hidden")})};_.stickySidebar=function(){if(!v.fn.stick_in_parent){return}var e=30;if(_.$body.hasClass("admin-bar")){e+=32}if(_.$body.hasClass("header-sticky")){if(_.$header.hasClass("header-bottom-no-sticky")&&_.$header.find(".header-main").length){e+=_.$header.find(".header-main").height()}else if(_.$header.hasClass("header-main-no-sticky")&&_.$header.find(".header-bottom").length){e+=_.$header.find(".header-bottom").height()}else{e+=_.$header.height()}}_.$window.on("resize",function(){if(_.$window.width()<992){v("#primary-sidebar.razzi-sticky-sidebar").trigger("sticky_kit:detach")}else{v("#primary-sidebar.razzi-sticky-sidebar").stick_in_parent({offset_top:e})}}).trigger("resize")};v(function(){_.init()})})(jQuery);